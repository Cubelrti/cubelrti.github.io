(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{210:function(e,t,s){"use strict";s.r(t);var v=s(0),r=Object(v.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"vuex-typescript"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vuex-typescript","aria-hidden":"true"}},[e._v("#")]),e._v(" Vuex Typescript")]),e._v(" "),s("p",[e._v("本文讨论Typescript环境下的Vuex问题。")]),e._v(" "),s("p",[e._v("已知使用过的方案")]),e._v(" "),s("ul",[s("li",[e._v("vuex-class")])]),e._v(" "),s("p",[e._v("未使用过的方案")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("vuex-typescript")])]),e._v(" "),s("li",[s("p",[e._v("vuex-module-decorators")])]),e._v(" "),s("li",[s("p",[e._v("vuex-typex")])])]),e._v(" "),s("h1",{attrs:{id:"vuex-class"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vuex-class","aria-hidden":"true"}},[e._v("#")]),e._v(" vuex-class")]),e._v(" "),s("p",[e._v("官方方案，通过装饰器完成。")]),e._v(" "),s("p",[e._v("在Class Component中使用"),s("code",[e._v("@State")]),e._v(", "),s("code",[e._v("@Action")]),e._v(", "),s("code",[e._v("@Mutation")]),e._v(", "),s("code",[e._v("@Watch")]),e._v("实现功能和绑定。")]),e._v(" "),s("p",[e._v("缺点在于使用被装饰的属性名称是无类型提示的，完全靠复制粘贴，如果拼写出现错误或者上层Store改变，该方案将直接抛出错误。")]),e._v(" "),s("p",[e._v("优势在于非常无痛，不需要对Store进行额外的修改。")]),e._v(" "),s("p",[e._v("劣势就如同上述，没有完整的提示（包括返回值）都需要手动定义类型。")]),e._v(" "),s("h1",{attrs:{id:"vuex-typescript-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vuex-typescript-2","aria-hidden":"true"}},[e._v("#")]),e._v(" vuex-typescript")]),e._v(" "),s("p",[e._v("很久没更新。")]),e._v(" "),s("p",[e._v("原理是将原来的store中的类型，通过export const的方式二次导出，使用getStoreAccessors并传入泛型来获取类型名称。")]),e._v(" "),s("p",[e._v("劣势是在每一个操作后都需要手动export带类型的方法，略显麻烦。")]),e._v(" "),s("h1",{attrs:{id:"vuex-module-decorators"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vuex-module-decorators","aria-hidden":"true"}},[e._v("#")]),e._v(" vuex-module-decorators")]),e._v(" "),s("p",[e._v("这个和vuex-class相同，但是语法更加复杂一些。")]),e._v(" "),s("h1",{attrs:{id:"vuex-typex"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vuex-typex","aria-hidden":"true"}},[e._v("#")]),e._v(" vuex-typex")]),e._v(" "),s("p",[e._v("与vuex-typescript原理类似，但是不需要手动传入命名空间名称，Promise返回值不是any。但是需要更多的操作和类型提示。")]),e._v(" "),s("h1",{attrs:{id:"misc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#misc","aria-hidden":"true"}},[e._v("#")]),e._v(" Misc")]),e._v(" "),s("p",[e._v("FYI：https://github.com/vuejs/vuex/issues/564\n本质上如果不使用modules特性，原生Typescript已经做的很好。但是modules基本没有解决方案。")])])}],!1,null,null,null);t.default=r.exports}}]);